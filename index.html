<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aplicativo acess√≠vel para leitura de medidor de press√£o arterial">
    <title>Leitor de Press√£o Arterial - Acess√≠vel</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="skip-link">
        <a href="#main-content" class="visually-hidden-focusable">Pular para o conte√∫do principal</a>
    </div>

    <header role="banner">
        <h1 tabindex="0">Leitor de Press√£o Arterial</h1>
        <p class="subtitle" aria-live="polite">Aplicativo acess√≠vel para leitura de medidores de press√£o</p>
    </header>

    <main id="main-content" role="main">
        <section class="camera-section" aria-labelledby="camera-title">
            <h2 id="camera-title" class="visually-hidden">Se√ß√£o da C√¢mera</h2>
            
            <div class="video-container" role="img" aria-label="Visualiza√ß√£o da c√¢mera">
                <video id="camera-feed" autoplay playsinline aria-hidden="true"></video>
                <canvas id="overlay-canvas" aria-hidden="true"></canvas>
                <div id="guide-box" class="guide-box" aria-hidden="true">
                    <span class="guide-text">Posicione o display aqui</span>
                </div>
            </div>

            <canvas id="capture-canvas" style="display: none;" aria-hidden="true"></canvas>
        </section>

        <section class="controls-section" aria-labelledby="controls-title">
            <h2 id="controls-title" class="visually-hidden">Controles</h2>
            
            <div class="button-group" role="group" aria-label="Controles principais">
                <button 
                    id="start-camera-btn" 
                    class="btn btn-primary btn-large"
                    aria-describedby="start-camera-desc"
                >
                    <span class="btn-icon" aria-hidden="true">üì∑</span>
                    Iniciar C√¢mera
                </button>
                <span id="start-camera-desc" class="visually-hidden">
                    Pressione para ativar a c√¢mera do dispositivo
                </span>

                <button 
                    id="capture-btn" 
                    class="btn btn-secondary btn-large"
                    disabled
                    aria-describedby="capture-desc"
                >
                    <span class="btn-icon" aria-hidden="true">üìñ</span>
                    Ler Press√£o
                </button>
                <span id="capture-desc" class="visually-hidden">
                    Pressione para capturar e ler os valores do medidor
                </span>
            </div>

            <div class="button-group secondary-controls" role="group" aria-label="Controles secund√°rios">
                <button 
                    id="auto-mode-btn" 
                    class="btn btn-outline"
                    disabled
                    aria-pressed="false"
                    aria-describedby="auto-mode-desc"
                >
                    <span class="btn-icon" aria-hidden="true">üîÑ</span>
                    Modo Autom√°tico
                </button>
                <span id="auto-mode-desc" class="visually-hidden">
                    Ativa leitura autom√°tica cont√≠nua
                </span>

                <button 
                    id="repeat-btn" 
                    class="btn btn-outline"
                    disabled
                    aria-describedby="repeat-desc"
                >
                    <span class="btn-icon" aria-hidden="true">üîä</span>
                    Repetir Leitura
                </button>
                <span id="repeat-desc" class="visually-hidden">
                    Repete a √∫ltima leitura em voz alta
                </span>
            </div>
        </section>

        <section class="results-section" aria-labelledby="results-title" aria-live="polite">
            <h2 id="results-title">Resultado da Leitura</h2>
            
            <div id="results-container" class="results-container" role="status">
                <p class="placeholder-text">Aguardando leitura...</p>
            </div>

            <div id="orientation-feedback" class="orientation-feedback" aria-live="assertive" role="alert">
            </div>
        </section>

        <section class="instructions-section" aria-labelledby="instructions-title">
            <h2 id="instructions-title">Instru√ß√µes de Uso</h2>
            
            <ol class="instructions-list">
                <li>
                    <strong>Inicie a c√¢mera</strong> pressionando o bot√£o "Iniciar C√¢mera"
                </li>
                <li>
                    <strong>Posicione o celular</strong> de forma que o display do medidor fique dentro da √°rea indicada
                </li>
                <li>
                    <strong>Aguarde a orienta√ß√£o por voz</strong> sobre o posicionamento
                </li>
                <li>
                    <strong>Pressione "Ler Press√£o"</strong> quando estiver bem posicionado
                </li>
                <li>
                    <strong>Ou√ßa o resultado</strong> que ser√° anunciado automaticamente
                </li>
            </ol>
        </section>
    </main>

    <footer role="contentinfo">
        <p id="app-version">Vers√£o 4.0.0 - Powered by Google Gemini AI</p>
        <p>Desenvolvido para auxiliar pessoas com defici√™ncia visual</p>
    </footer>

    <!-- Modal de ativa√ß√£o de voz para dispositivos m√≥veis -->
    <div id="voice-modal" class="voice-modal" role="dialog" aria-labelledby="voice-modal-title" aria-modal="true">
        <div class="voice-modal-content">
            <h2 id="voice-modal-title">Ativar Recursos de Voz</h2>
            <p>Para ouvir as instru√ß√µes e resultados, toque no bot√£o abaixo:</p>
            <button id="enable-voice-btn" class="btn btn-primary btn-large">
                <span class="btn-icon" aria-hidden="true">üîä</span>
                Ativar Voz
            </button>
        </div>
    </div>

    <!-- Tesseract como fallback (pode ser removido se usar apenas Gemini) -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
